"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1204],{531:function(e,r,t){t.d(r,{Z:function(){return l}});var i=t(31549),n=t(58213);t(44194);var a=t(32264),o=t(4339);function l(e){let{name:r,label:t,onChange:l,labelVariant:s,...d}=e,[c]=(0,n.U$)((0,o.CE)(e,"onChange")),{value:u,...p}=c;return(0,i.jsx)(a.Z,{...d,...p,id:r,label:{text:t,variant:s},checked:c.value,onChange:()=>{l&&l(!c.value),c.onChange({target:{name:r,value:!c.value}})}})}},30144:function(e,r,t){t.d(r,{I:function(){return d}});var i=t(31549),n=t(44194),a=t(58213),o=t(5271),l=t.n(o),s=t(32264);function d(e){let{name:r,options:t,optionSx:o,renderOption:d,labelVariant:c="smBold"}=e,[u,,p]=(0,a.U$)({name:r,value:[]}),x=(0,n.useRef)(t);(0,n.useEffect)(()=>{let e=l()(t,x.current);if(0!==e.length){let r=e.filter(e=>e.initiallyChecked).map(e=>e.value);p.setValue([...u.value,...r]),x.current=t}},[u.value,p,t]);let h=e=>{let t=u.value,i=t.includes(e)?t.filter(r=>r!==e):[...t,e];u.onChange({target:{name:r,value:i}})};return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>{let a=u.value.includes(e.value),l=(0,i.jsx)(s.Z,{id:r,checked:a,label:{text:e.label,variant:c},onChange:()=>{h(e.value)},containerSx:o});return(0,i.jsx)(n.Fragment,{children:d?d({checkbox:l,option:e,checked:a,index:t,currentValue:e.value}):l},e.value)})})}},20026:function(e,r,t){t.d(r,{E:function(){return l}});var i=t(31549),n=t(44194),a=t(58213),o=t(39250);function l(e){let{name:r,values:t,optionSx:l,clearable:s,renderOption:d,labelVariant:c="smBold"}=e,[u,,p]=(0,a.U$)(r),x=e=>{u.onChange({target:{name:r,value:e}})};return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>{let a=u.value===e.value,h=(0,i.jsx)(o.Y,{name:r,value:e.value,checked:a,label:e.label,labelVariant:c,onChange:x,onClick:()=>{s&&u.value===e.value&&p.setValue(void 0)},sx:l});return(0,i.jsx)(n.Fragment,{children:d?d({radio:h,option:e,checked:a,index:t,currentValue:u.value}):h},e.value)})})}},11204:function(e,r,t){t.d(r,{Sn:function(){return eT},Yd:function(){return eC},De:function(){return eS}});var i=t(31549),n=t(44194),a=t(8436),o=t(41575),l=t(13152),s=t(95235),d=t(83466),c=t(26672),u=t(24847),p=t(29787),x=t.n(p),h=t(93702),m=t.n(h),g=t(76705),f=t.n(g),v=t(61230),b=t.n(v),y=t(17682),j=t.n(y),w=t(77179),k=t.n(w),C=t(6494),T=t.n(C),S=t(55371),R=t.n(S),_=t(58213),I=t(35128),O=t.n(I),B=t(32689),L=t(28970),P=t(33),U=t(20026);let V=(0,c.ZL)({root:{display:"grid",gridTemplateColumns:["1fr","1fr 1fr"],rowGap:"8px",columnGap:"16px"},radioOption:{borderStyle:"solid",borderWidth:"2px",borderColor:"gray.300",color:"gray.500",flex:1,py:"12px",px:"16px",borderRadius:"normal",position:"relative"},radio:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,cursor:"pointer"},selectedOption:{backgroundColor:"gray.700",borderColor:"gray.700",color:"white"}});function E(e){let{name:r,values:t,label:n,required:a,sx:o,error:l}=e;return(0,i.jsxs)(u.xu,{sx:o,children:[(0,i.jsxs)(P.__,{as:"div",mb:2,children:[(0,i.jsx)(u.xv,{as:"span",variant:"smDisplay",children:n}),a&&(0,i.jsx)(u.xv,{as:"span",color:"red.700",children:"*"})]}),(0,i.jsx)(u.xu,{sx:V.root,children:(0,i.jsx)(U.E,{name:r,values:t,clearable:!0,optionSx:V.radio,renderOption:e=>{let{radio:r,option:t,checked:n}=e;return(0,i.jsxs)(u.xv,{variant:"smBold",sx:{...V.radioOption,...n?V.selectedOption:{},...l?{borderColor:"red.700"}:{}},children:[t.label,r]})}})})]})}var z=t(67578),N=t(56385),Z=t(4339),D=t(30144);let F=(0,c.ZL)({root:{display:"grid",gridTemplateColumns:["1fr","1fr 1fr"],rowGap:"8px",columnGap:"16px"},checkboxOption:{borderStyle:"solid",borderWidth:"2px",borderColor:"gray.300",color:"gray.500",flex:1,py:"12px",px:"16px",borderRadius:"normal",position:"relative"},checkbox:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,cursor:"pointer"},selectedOption:{backgroundColor:"gray.700",borderColor:"gray.700",color:"white"}});function W(e){let{onAdd:r}=e,[t,a]=(0,n.useState)(!1),[l,s]=(0,n.useState)(""),d="custom",{focus:c,focusRef:p}=(0,z.b)();return(0,i.jsxs)(u.xu,{width:"100%",marginTop:10,children:[!t&&(0,i.jsx)(o.z,{variant:"tertiary",text:"Add Your Own",width:"100%",onClick:()=>{s(""),a(!0),c(d)}}),(0,i.jsxs)(u.kC,{style:t?{}:{display:"none"},children:[(0,i.jsx)(N.I,{name:d,value:l,ariaLabel:"Add Your Own Answer",focusRef:p(d),onChange:e=>s(e),maxLength:100}),(0,i.jsx)(o.z,{disabled:0===l.trim().length,variant:"tertiary",text:"Add",minWidth:100,marginLeft:10,onClick:()=>{a(!1),r(l)}})]})]})}function q(e){let{name:r,options:t,label:o,helperText:l,required:s,sx:d,error:c}=e,[p,x]=(0,n.useState)(t);return(0,i.jsxs)(u.xu,{sx:d,children:[(0,i.jsxs)(P.__,{as:"div",mb:2,children:[(0,i.jsx)(u.xv,{as:"span",variant:"smDisplay",children:o}),s&&(0,i.jsx)(u.xv,{as:"span",color:"red.700",children:"*"})]}),l&&(0,i.jsx)(u.xv,{variant:"xsParagraph",marginTop:-2,marginBottom:2,children:l}),(0,Z.HD)(c)&&(0,i.jsx)(a.m,{my:2,children:c}),(0,i.jsx)(u.xu,{sx:F.root,children:(0,i.jsx)(D.I,{name:r,options:p,optionSx:F.checkbox,renderOption:e=>{let{checkbox:r,option:t,checked:n}=e;return(0,i.jsxs)(u.xv,{variant:"smBold",sx:{...F.checkboxOption,...n?F.selectedOption:{},...c?{borderColor:"red.700"}:{}},children:[t.label,r]})}})}),(0,i.jsx)(W,{onAdd:e=>{x([...p,{label:e,value:e,initiallyChecked:!0}])}})]})}var H=t(52667);let A=(0,c.ZL)({radioContainer:{display:"inline-flex",borderStyle:"solid",borderWidth:"1px",borderRadius:"normal",borderColor:"transparent"},ratingOption:{position:"relative"},radio:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,cursor:"pointer"},error:{borderColor:"red.700"}}),G=[{label:"rating 1",value:"1"},{label:"rating 2",value:"2"},{label:"rating 3",value:"3"},{label:"rating 4",value:"4"},{label:"rating 5",value:"5"}];function M(e){let{name:r,label:t,required:n,error:a}=e;return(0,i.jsxs)(u.xu,{children:[(0,i.jsxs)(u.xu,{children:[(0,i.jsx)(u.xv,{as:"span",variant:"smBold",children:t}),n&&(0,i.jsx)(u.xv,{as:"span",color:"red.700",children:"*"})]}),(0,i.jsx)(u.xu,{sx:{...A.radioContainer,...a?A.error:{}},children:(0,i.jsx)(U.E,{name:r,values:G,clearable:!0,optionSx:A.radio,renderOption:e=>{let{radio:r,option:t,currentValue:n}=e,a=Number(t.value)<=Number(n);return(0,i.jsxs)(u.xu,{sx:A.ratingOption,children:[(0,i.jsx)(H.StarHighlighted,{color:a?"yellow.700":"gray.300"}),r]})}})})]})}var Y=t(67639);function $(e,r){return"common"===r?e.filter(J(r)):e.filter(J(r)).sort((e,r)=>{let[t,i]=[e,r].map(e=>Number(e.key.split("_").pop()));return t-i})}function J(e){return r=>{let t=ee(r),i=er(r);return t&&"images"===e||i&&"videos"===e||!i&&!t&&"common"===e}}let K=["CheckboxVertical","RadioVertical","RadioHorizontal","RadioHorizontalLinked"],X=["Image","NativeVideo"];function Q(e){return"composite"===e.fieldType}function ee(e){return Q(e)&&"Image"===e.compositeType}function er(e){return Q(e)&&"NativeVideo"===e.compositeType}var et=t(95687),ei=t(3721),en=t(95477),ea=t(46735),eo=t(94687);async function el(e,r,t,i){t(0);let n=new FormData;n.append("upload_preset",{Image:"_11685",NativeVideo:"_11685_video"}[r]),n.append("file",e);let a={onUploadProgress:e=>{t(e.total?Math.round(100*e.loaded/e.total):0)}};i&&(a.headers={"X-Unique-Upload-Id":i.uploadId,"Content-Range":i.contentRange});let o=await eo.default.post("https://api.cloudinary.com/v1_1/powerreviews/auto/upload",n,a);if(t(void 0),o.status<200||o.status>=300)throw Error();return{url:o.data.url,publicId:o.data.public_id,size:o.data.bytes,width:o.data.width,height:o.data.height}}async function es(e,r,t,i){let n,a=0,o="".concat(Math.random()).slice(2);for(t(0);a<e.size;){let l=Math.min(a+i,e.size),s=l-a,d=r=>{if(!r)return;let i=s*r/100;t(Math.round((l-s+i)*100/e.size))};n=await el(e.slice(a,l),r,d,{uploadId:o,contentRange:"bytes ".concat(a,"-").concat(l-1,"/").concat(e.size)}),a=l}if(t(void 0),!n)throw Error();return n}let ed={width:"100%",height:"100%",borderRadius:"4px"},ec=(0,c.ZL)({root:{display:"grid",gridTemplateColumns:["1fr","1fr 1fr"],rowGap:"8px",columnGap:"16px"},input:{width:"100%",position:"relative"},inputButton:{color:"gray.500",borderColor:"gray.500",width:"100%"},inputElement:{position:"absolute",left:0,right:0,top:0,bottom:0,opacity:0,cursor:"pointer"},preview:{width:"120px",height:"90px"},media:{width:"100%",height:"100%",borderRadius:"4px"},radioOption:{borderStyle:"solid",borderWidth:"2px",borderColor:"gray.300",color:"gray.500",flex:1,py:"12px",px:"16px",borderRadius:"normal",position:"relative"},radio:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,cursor:"pointer"},selectedOption:{backgroundColor:"gray.700",borderColor:"gray.700",color:"white"},removeButton:{border:"none",backgroundColor:"gray.700",p:0,minWidth:0,minHeight:0,mt:2},progressBar:{total:{minHeight:"24px",backgroundColor:"transparent",borderRadius:"4px",border:"2px solid",borderColor:"gray.500"},progress:{minHeight:"24px",px:"10px",border:"2px solid",borderColor:"gray.500",backgroundColor:"gray.500",textAlign:"right","&.inProgress":{borderBottomRightRadius:"4px",borderTopRightRadius:"4px"}}},errorCloseBtn:{right:"unset"},errorText:{position:"relative",color:"red.700",my:"16px"}});function eu(e){let{progress:r}=e,t=100===r;return(0,i.jsx)(u.xu,{sx:ec.progressBar.total,children:(0,i.jsx)(u.xu,{width:"".concat(r,"%"),sx:ec.progressBar.progress,className:t?"":"inProgress",children:t?(0,i.jsx)(ei.p,{"data-testid":"loadingIndicator",color:"white",show:!0,size:"24px"}):(0,i.jsxs)(u.xv,{variant:"smBold",sx:{color:"white"},children:[r,"%"]})})})}function ep(e){let{accept:r="image/*",type:t,name:a,caption:o,error:l,chunkSize:s=5e7,addMediaField:d,removeMediaField:c}=e,[p,,{setValue:x}]=(0,_.U$)({name:a}),[h,m]=(0,n.useState)(),[g,f]=(0,n.useState)(),[v,b]=(0,n.useState)(),y={Image:4e8,NativeVideo:99e6}[t],j=async e=>{let r;if(!e||!e[0])return;let[i]=e;if(i.size>y){b("Maximum file size is ".concat(y/1e6,"MB")),d();return}p.onChange({target:{name:"".concat(a,".uploadInProgress"),value:!0}});try{r=i.size<=s?await el(i,t,f):await es(i,t,f,s),p.onChange({target:{name:"".concat(a,".fileData"),value:r}}),m(i)}catch(e){b("Upload unsuccessful")}finally{p.onChange({target:{name:"".concat(a,".uploadInProgress"),value:!1}}),d()}};return((0,n.useEffect)(()=>()=>{x(void 0,!1)},[]),v)?(0,i.jsx)(u.xu,{children:(0,i.jsxs)(u.xv,{variant:"smParagraph",sx:ec.errorText,children:[v,(0,i.jsx)(en.PZ,{onClose:c,sx:ec.errorCloseBtn,label:"close error"})]})}):(0,i.jsxs)(u.xu,{children:[!h&&void 0===g&&(0,i.jsxs)(u.xu,{sx:ec.input,children:[(0,i.jsx)(ea.hU,{sx:ec.inputButton,variant:"outline",text:"Upload a File",label:"Upload a File",icon:(0,i.jsx)(H.UploadIcon,{}),iconSize:"24px"}),(0,i.jsx)(P.II,{type:"file","aria-label":"File upload input",accept:r,onChange:e=>{j(e.target.files)},sx:ec.inputElement})]}),h&&void 0===g&&(0,i.jsxs)(u.kC,{children:[(0,i.jsxs)(u.xu,{sx:ec.preview,children:[h.type.includes("video")&&(0,i.jsxs)("video",{role:"dialog","aria-labelledby":"video dialog","aria-label":"Video preview",controls:!0,style:ed,children:[(0,i.jsx)("source",{src:URL.createObjectURL(h),type:h.type}),(0,i.jsx)("track",{src:URL.createObjectURL(h),kind:"captions",srcLang:"en",label:"english_captions"}),"Your browser does not support video"]}),h.type.includes("image")&&(0,i.jsx)(u.Ee,{role:"img","aria-label":"Image preview",alt:h.name,src:URL.createObjectURL(h),sx:ec.media})]}),(0,i.jsxs)(u.xu,{sx:{p:2,pt:0},flex:"auto",children:[o&&(0,i.jsx)(Y.Z,{name:"".concat(a,".").concat(o.key),label:o.label,required:o.required,placeholder:o.helperText,labelVariant:"smDisplay",error:l}),(0,i.jsx)(ea.hU,{label:"remove file",variant:"outline",onClick:c,icon:(0,i.jsx)(H.Close,{}),iconSize:"24px",iconColor:"white",sx:ec.removeButton})]})]}),void 0!==g&&(0,i.jsx)(eu,{progress:g})]})}function ex(e){let{fields:r,type:t,error:a,addMediaField:o,removeMediaField:l}=e,{label:s,prompt:d,compositeType:c}=r[0],p={Image:"image/*",NativeVideo:".mp4,.webm,.flv,.mov,.ogv,.3gp,.3g2,.wmv,.mpeg,.mkv,.avi",Video:null,Simple:null}[c];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.__,{as:"div",mb:2,children:(0,i.jsx)(u.xv,{as:"span",variant:"smDisplay",children:null!=s?s:d})}),p&&r.map(e=>(0,i.jsx)(n.Fragment,{children:(0,i.jsx)(ep,{name:e.key,error:m()(a)?a[e.key]:void 0,accept:p,type:t,caption:e.fields.find(e=>"caption"===e.key),addMediaField:o(t),removeMediaField:l(e.key)})},e.key))]})}var eh=t(73656);let em=()=>"production"===eh.env.IOVATION_ENVIRONMENT?"https://mpsnare.iesnare.com/snare.js":"https://ci-mpsnare.iovation.com/snare.js";var eg=t(70002),ef=t(531),ev=t(54022),eb=t(30312),ey=t(85680),ej=t(10512),ew=t(88366);let ek=(0,c.ZL)({popupHeader:{py:"16px",backgroundColor:"gray.100"},productName:{textAlign:"center",mt:"3",mb:"2"},popupContent:{p:"12px"},formContainer:{display:"grid",gridTemplateColumns:["1fr","1fr 1fr"],columnGap:"16px",rowGap:"16px"},fullWidth:{gridColumn:"1/-1"},recommendationsContainer:{display:"grid",gridTemplateColumns:["1fr","1fr 1fr"],rowGap:"8px",columnGap:"16px"},link:{color:"blue.700"},promotionalContestSpotContainer:{display:"flex",justifyContent:"center",margin:"10px"}});function eC(e){let{onSubmit:r,fields:t,addField:l,removeField:s,loading:d,error:c}=e,p=t.reduce((e,r)=>Object.assign(e,{[r.key]:r}),{}),{selectedProductRating:x}=(0,et.v9)(e=>e.powerReview),h={agreed:!1,...b()(p,e=>ee(e)||er(e)?{fileData:void 0,caption:""}:""),rating:x},g=e=>()=>{s(e)},v=e=>()=>{let r=t.filter(r=>"composite"===r.fieldType&&r.compositeType===e),i=r.map(e=>Number(e.key.split("_").pop())).filter(e=>!Number.isNaN(e)),n="media_".concat("Image"===e?"image":"videourl","_").concat(Math.max(...i)+1);l({...k()(r[0]),key:n,id:n})},y=e=>e.map(e=>(0,i.jsx)(n.Fragment,{children:function(e,r){switch(e.fieldType){case"simple":return function(e,r){switch(e.inputType){case"TextBox":return(0,i.jsx)(Y.Z,{name:e.key,label:e.label,required:e.required,sx:"email"===e.answerType?{gridColumn:"1/-1"}:{},placeholder:e.helperText,labelVariant:"smDisplay",error:r,errorPosition:"bottom",maxLength:e.maxLength});case"TextArea":return(0,i.jsx)(Y.Z,{name:e.key,label:e.label,required:e.required,placeholder:e.helperText,labelVariant:"smDisplay",sx:{gridColumn:"1/-1"},sxInput:{resize:"none"},multiline:!0,error:r,errorPosition:"bottom",maxLength:2e3});case"Stars":return(0,i.jsx)(M,{name:e.key,label:e.label,required:e.required,error:!!r});default:return null}}(e,r);case"collection":return function(e,r){switch(e.inputType){case"RadioVertical":case"RadioHorizontal":case"RadioHorizontalLinked":if(!e.choices||0===e.choices.length)return null;return(0,i.jsx)(E,{sx:{gridColumn:"1/-1"},name:e.key,label:e.label,required:e.required,values:e.choices.map(e=>({label:e.value,value:e.id})),error:!!r});case"CheckboxVertical":var t;return(0,i.jsx)(q,{sx:{gridColumn:"1/-1"},name:e.key,label:e.label,helperText:e.helperText,required:e.required,options:(null!==(t=e.choices)&&void 0!==t?t:[]).map(e=>({label:e.value,value:e.id})),error:r});default:return null}}(e,r);default:return null}}(e,m()(c)?c[e.key]:void 0)},e.key));return(0,i.jsx)(_.J9,{initialValues:h,onSubmit:e=>r(function(e,r){let t=R()(e,(e,r)=>"agreed"===r||!e);return b()(t,(e,t)=>{let i=r.find(e=>e.key===t);return"simple"===i.fieldType&&"numeric"===i.answerType?Number(e):e})}(e,t)),validate:e=>({...j()(p,(r,t,i)=>{let n=e[i];if(t.required&&!n)r[i]="Required!";else{var a;n&&"simple"===(a=t).fieldType&&"email"===a.answerType&&!(0,eg.vV)(n)?r[i]="Invalid email address":n&&n.uploadInProgress&&(r[i]="Upload in progress")}return r},{}),...e.agreed?{}:{agreed:"Field must be checked"}}),children:e=>{let{isValid:r,dirty:n}=e;return(0,i.jsxs)(_.l0,{children:[f()(c)&&(0,i.jsx)(a.m,{sx:{mb:3},children:c}),(0,i.jsxs)(u.xu,{sx:ek.formContainer,children:[y($(t,"common")),(0,i.jsx)(u.xu,{sx:{gridColumn:"1"},children:(0,i.jsx)(ex,{fields:$(t,"images"),error:c,type:"Image",removeMediaField:g,addMediaField:v})}),(0,i.jsx)(u.xu,{sx:{gridColumn:["1","2"]},children:(0,i.jsx)(ex,{fields:$(t,"videos"),error:c,type:"NativeVideo",removeMediaField:g,addMediaField:v})}),(0,i.jsx)(ef.Z,{name:"agreed",label:"I agree with the terms and privacy policy",sx:{...ek.fullWidth,width:"fit-content"}}),(0,i.jsxs)(u.xv,{variant:"xsParagraph",sx:ek.fullWidth,children:["By submitting, you agree to our"," ",(0,i.jsx)(ev.r,{href:"http://www.powerreviews.com/terms-of-submission-ugc",textProps:{sx:ek.link,target:"_blank"},children:"Terms"}),", and that you have read our"," ",(0,i.jsx)(ev.r,{href:"http://www.powerreviews.com/privacy-policy/",textProps:{sx:ek.link,target:"_blank"},children:"Privacy Policy"}),"."]}),(0,i.jsx)(o.z,{type:"submit",text:"Submit",sx:ek.fullWidth,disabled:!n||!r,loading:d})]})]})}})}function eT(e){let{onComplete:r,product:t,template:a,orderId:o,promotionalContestSpot:s}=e,c=a.fields.filter(e=>"simple"===e.fieldType||"collection"===e.fieldType&&K.includes(e.inputType)||Q(e)&&X.includes(e.compositeType)),[p,h]=(0,n.useState)(c.map(eR)),{iovationToken:m}=function(){let{data:e}=(0,l.r)(async()=>new Promise((e,r)=>{let t=()=>{try{let{finished:r,blackbox:t}=window.ioGetBlackbox();if(r)return e(t);throw Error("iOvation script failed to generate token")}catch(e){console.error(e),r(e)}};window.ioGetBlackbox&&t();let i=document.createElement("script");i.src=em(),i.type="text/javascript",document.head.appendChild(i),i.onload=()=>{t()},i.onerror=()=>{r(Error("iOvation script failed to load"))}}),[]);return{iovationToken:e}}(),{loading:g,error:f,trigger:v}=(0,eb.kC)(async e=>{await (0,B.n)(ey.K.product.reviews.addReview(t.id,{orderId:o,browser:new(O())().getBrowser().name,context:a.context,iovationToken:m,fields:T()(Object.keys(e).map(r=>(function e(r,t){let i={fieldType:r.fieldType,key:r.key,id:r.id};switch(r.fieldType){case"simple":return{...i,answerType:r.answerType,inputType:r.inputType,value:t};case"collection":{var n;let e=null!==(n=r.choices)&&void 0!==n?n:[];return{...i,answerType:r.answerType,inputType:r.inputType,values:"single"===r.answerType?[e.find(e=>e.id===t)]:[...e.filter(e=>t.includes(e.id)),...t.filter(r=>!e.map(e=>e.id).includes(r)).map(e=>({value:e}))]}}case"composite":{let n=Object.entries(t).filter(e=>{let[r]=e;return"fileData"!==r&&"uploadInProgress"!==r}),a=T()(n.map(t=>{let[i,n]=t;return e(r.fields.find(e=>e.key===i),n)}));return{...i,compositeType:r.compositeType,fields:a,fileData:t.fileData}}}})(p.find(e=>e.key===r),e[r])))}),{defaultValue:void 0}),r()}),b=(0,ej.g)(t);return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)(u.xu,{sx:ek.promotionalContestSpotContainer,children:(0,i.jsx)(L.nO,{content:s.content})}),t&&(0,i.jsx)(u.xv,{variant:"smParagraph",sx:ek.productName,children:(0,i.jsx)(ev.r,{textProps:{target:"_blank"},href:b,children:t.productName})}),(0,i.jsx)(u.xu,{sx:ek.popupContent,children:(0,i.jsx)(eC,{onSubmit:v,loading:g,error:function(e){if(e){if(e instanceof d.JLZ){let r=e.data.fields.reduce((e,r)=>{if(null==r?void 0:r.key){var t;let i=null===(t=r.error)||void 0===t?void 0:t.detail,n=null==i?void 0:i.profanity,a=n&&"One or more words were flagged by our profanity/restricted word filter: ".concat(n.join(", "));e[r.key]=a||!0}return e},{});return x()(r)?"There was an error during validation":r}return"There was an error with your review submission"}}(f),fields:p,productId:t.id,addField:e=>{h(r=>[...r,e])},removeField:e=>{h(r=>r.filter(r=>r.key!==e))}})})]})}function eS(e){let{onClose:r,productId:t,template:n}=e,{data:o,loading:d,error:c}=(0,l.r)(()=>(0,B.n)(ey.K.product.getBasicProductInfo([t]),{defaultValue:void 0}),[t]),{data:u}=(0,l.r)(async()=>{let e=await (0,B.n)(ey.K.espot.getESpot("RS_ES_POWER_REVIEWS_1"));if(e)return JSON.parse(e.content).parameters},[]),p=null==o?void 0:o[0],x=null;return x=d?(0,i.jsx)(s.D,{width:"750px"}):c||!p?(0,i.jsx)(a.m,{children:"Oops, the product information could not be obtained"}):(0,i.jsx)(eT,{product:p,template:n,onComplete:r,promotionalContestSpot:u}),(0,i.jsx)(ew.j,{isOpen:!0,onClose:r,title:"Write a Review",children:x})}function eR(e){let{key:r,id:t}=e;return(ee(e)||er(e))&&(r="".concat(r,"_0"),t=t&&"".concat(t,"_0")),{...e,key:r,id:t}}},28970:function(e,r,t){t.d(r,{nO:function(){return h}});var i=t(31549);t(44194);var n=t(24847),a=t(42531),o=t(26672),l=t(66274),s=t(20465),d=t(63860),c=t(24046);let u=(0,o.ZL)({image:{height:"100%",width:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},textBoxChildContainer:{width:"100%",paddingLeft:["8px"]},dogEar:{paddingRight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,height:"100%"}});function p(e){let{data:r,flexStyles:t,titleStyles:a,imageStyle:l,boldTextStyle:s,subTextStyle:p,rightPanelStyles:x,children:h,onClick:m}=e,g=(0,o.Fs)()<=o.u3.Small,f={backgroundImage:["url(".concat(g?r.smallImageUrl:r.imageUrl,")")],...u.image,...l};return(0,i.jsx)(d.H,{sx:u.dogEar,backgroundColor:"white",borderWidth:0,children:(0,i.jsxs)(n.kC,{sx:t,children:[(0,i.jsx)(n.xu,{sx:f,"data-testid":"hero"}),(0,i.jsxs)(n.kC,{sx:x,children:[(0,i.jsxs)(n.xu,{sx:u.textBoxChildContainer,children:[(0,i.jsx)(n.X6,{variant:"smBold",as:"span",children:(0,i.jsx)(c.L,{sx:{...a,...s},children:r.boldText})}),(0,i.jsx)(n.xv,{variant:"smParagraph",sx:p,children:(0,i.jsx)(c.L,{children:r.subText})}),(0,i.jsx)(n.rU,{"aria-label":r.linkText,href:r.link,target:"_blank",sx:{...p,color:"blue.700",textDecoration:"none"},onClick:m,children:(0,i.jsx)(n.xv,{children:r.linkText})})]}),h]})]})})}a.Ry({content:a.Ry({imageUrl:a.Z_(),smallImageUrl:a.Z_(),boldText:a.Z_(),subText:a.Z_(),linkText:a.Z_(),link:a.Z_(),title:a.Z_().optional()})});let x=(0,o.ZL)({flex:{flexDirection:"row",flexWrap:"wrap"},card:{width:["343px","491px"],height:["248px","120px"],cursor:"pointer",boxShadow:"normal",borderRadius:"8px"},image:{borderRadius:["8px 8px 0px 0px","8px 0px 0px 8px"],width:["343px","119px"],height:["138px","120px"]},rightPanel:{alignItems:"center",flex:1,flexDirection:"column"},title:{color:"gray.700",textAlign:["center",null,"initial"],paddingTop:["8px"]},boldTextStyle:{fontSize:["16px","20px"],lineHeight:["24px","28px"],fontWeight:"800",textAlign:"left",letterSpacing:"-0.01em"},subTextStyle:{fontSize:["14px","16px"],lineHeight:["24px"],textAlign:"left",color:"gray.700",letterSpacing:"-0.01em",fontFamily:"text"},textboxStyle:{flex:0,flexBasis:0,flexDirection:"row"},parentFlexStyle:{flexDirection:["column","row"]}});function h(e){let{content:r}=e,t=(0,l.ki)(r.link);return(0,i.jsx)(n.kC,{sx:x.flex,children:(0,i.jsx)(n.xu,{sx:x.card,children:(0,i.jsx)(p,{data:r,flexStyles:x.parentFlexStyle,titleStyles:x.title,boldTextStyle:x.boldTextStyle,subTextStyle:x.subTextStyle,rightPanelStyles:x.rightPanel,imageStyle:x.image,onClick:()=>{s.j.event.espots.promotionClicked({parsedUrlDetails:t,title:r.boldText,subtitle:r.subText})}})})})}},24046:function(e,r,t){t.d(r,{L:function(){return c}});var i=t(31549);t(44194);var n=t(42531),a=t(84994),o=t.n(a),l=t(24847),s=t(26672);n.z.string();let d=(0,s.ZL)({markdown:{marginBlockStart:0,marginBlockEnd:0}});function c(e){let{children:r,sx:t,inline:n=!1}=e;return n?(0,i.jsx)(o(),{disallowedTypes:["paragraph"],unwrapDisallowed:!0,children:r}):(0,i.jsx)(l.xu,{sx:{"& > *":{...d.markdown,...t}},children:(0,i.jsx)(o(),{children:r})})}},39250:function(e,r,t){t.d(r,{Y:function(){return p}});var i=t(31549),n=t(44194),a=t(33),o=t(24847),l=t(88469),s=t.n(l),d=t(26672),c=t(52667);let u=(0,d.ZL)({label:{display:"flex",alignItems:"center",position:"relative"},input:{position:"absolute",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",overflow:"hidden",width:"1px",height:"1px"},radioUnchecked:{display:"flex",alignItems:"center",height:"100%","input:checked ~ &":{display:"none"}},radioChecked:{display:"flex",alignItems:"center",height:"100%","input:not(:checked) ~ &":{display:"none"}},disabled:{cursor:"not-allowed"}});function p(e){let{label:r,labelVariant:t="paragraph",labelMargin:l=1,color:d,sx:p,radioStyle:x,radioSize:h,onChange:m,role:g,ariaLabel:f,...v}=e,b=(0,n.useMemo)(()=>s()({},u.label,p,v.disabled?u.disabled:{}),[p,v.disabled]);return(0,i.jsxs)(a.__,{sx:b,children:[(0,i.jsx)(o.xu,{as:"input",type:"radio","aria-label":f,...v,onChange:e=>null==m?void 0:m(e.target.value,e),sx:u.input}),(0,i.jsx)(o.xu,{sx:{...u.radioUnchecked,...x},children:(0,i.jsx)(c.Radial,{size:h,color:d})}),(0,i.jsx)(o.xu,{sx:{...u.radioChecked,...x},children:(0,i.jsx)(c.RadialSelected,{size:h,color:d})}),r&&(0,i.jsx)(o.xv,{variant:t,ml:l,children:r})]})}}}]);